# 📚 模块化记忆系统使用指南

> **Strategic Analyst 的核心架构创新**

---

## 🎯 什么是模块化记忆系统？

模块化记忆系统是 Strategic Analyst v2.1 的核心架构升级，将原本1400+行的单一文件拆分为：

```
核心文件 (465行)
  └─ CLAUDE.md / AGENTS.md / GEMINI.md

+ 模块化记忆 (4个专门模块)
  ├─ memory/frameworks/CLAUDE.md     (框架速查，220行)
  ├─ memory/methodology/CLAUDE.md    (方法论核心，180行)
  ├─ memory/cases/CLAUDE.md          (案例索引，250行)
  └─ memory/stage-guides/CLAUDE.md   (阶段指南，480行)
```

**核心优势**：
- ✅ **避免上下文过载**：核心文件精简，按需加载详细知识
- ✅ **跨平台兼容**：所有 AI 平台（Copilot/Cursor/Claude/ChatGPT）都能使用
- ✅ **易于维护**：模块化结构，更新某个领域只需修改对应文件
- ✅ **智能加载**：AI 根据对话情境自动加载相关记忆

---

## 📁 记忆模块结构

### 模块1：frameworks/CLAUDE.md

**内容**：22个战略分析框架速查卡

**包含**：
- 框架快速选择决策树
- 框架选择矩阵（按问题类型）
- 22个框架速查卡（用途、维度、何时用）
- 常见框架组合方案
- 框架选择三大原则

**何时加载**：
- 用户询问"推荐框架"、"选择框架"、"用什么框架"
- 进入阶段2（结构化拆解）时
- AI 不确定应该使用哪个框架

**行数**：约 220 行

**加载示例**：
```
用户："我不知道用什么框架分析市场进入决策"
AI动作：读取 memory/frameworks/CLAUDE.md
AI响应："根据框架速查表，市场进入决策推荐组合：
        PEST（宏观环境）→ 波特五力（行业吸引力）→ 
        SWOT（自身能力）→ 安索夫（进入策略）"
```

---

### 模块2：methodology/CLAUDE.md

**内容**：结构化战略分析方法论核心

**包含**：
- 四大基本原则详解（数字说话、洞见导向、MECE、假设驱动）
- MECE切分四大招式
- 3-3原则（多维深度分解）
- 金字塔原则（结构化表达）
- 5WHY追问法
- 十个核心工作习惯

**何时加载**：
- 用户询问"怎么用MECE"、"解释金字塔原则"
- 用户的分析不符合MECE原则时
- 进入阶段2（需要方法论指导）时

**行数**：约 180 行

**加载示例**：
```
用户："怎么用MECE原则拆解问题？"
AI动作：读取 memory/methodology/CLAUDE.md
AI响应："MECE原则有四大招式：
        1. 公式法（利润=收入-成本）
        2. 子目录列举法（客户=企业+个人+政府）
        3. 流程法（获客→激活→留存→变现）
        4. 逻辑框架法（内部/外部、优势/劣势）"
```

---

### 模块3：cases/CLAUDE.md

**内容**：战略分析案例索引与洞见库

**包含**：
- 案例快速检索表（7个完整案例）
- 按问题类型分类（市场进入、竞争应对、职业规划等）
- 按行业分类（教育、O2O、互联网、SaaS、政府等）
- 跨案例可复用的通用洞见
- 案例贡献指南

**何时加载**：
- 用户询问"有没有类似案例"、"参考案例"
- 用户需要看实际应用示例
- 需要验证某个方法的可行性

**行数**：约 250 行

**加载示例**：
```
用户："有没有市场进入决策的案例？"
AI动作：读取 memory/cases/CLAUDE.md
AI响应："案例库中有2个市场进入案例：
        1. 在线教育SaaS进入职业教育市场
           关键洞见：双减是危机也是机遇，技术平台复用率高
        2. ...
        是否需要我详细阅读完整案例？"
```

---

### 模块4：stage-guides/CLAUDE.md

**内容**：五阶段执行指南与检查清单

**包含**：
- 五阶段工作流程速览
- 每个阶段的详细指南：
  - 核心目标
  - 关键方法
  - 行为规范
  - 常见陷阱
  - 输出检查清单
  - 转换条件
- 阶段跳转指南
- 通用最佳实践

**何时加载**：
- 进入任何特定阶段时
- 用户询问"当前阶段应该怎么做"
- AI 需要检查清单验证输出质量

**行数**：约 480 行

**加载示例**：
```
进入阶段2（结构化拆解）时
AI动作：读取 memory/stage-guides/CLAUDE.md
AI响应："阶段2的核心目标是建立分析框架。
        我将使用MECE四大招式：公式法、子目录列举法...
        现在开始6要素问诊..."
```

---

## 🚀 如何使用模块化记忆系统

### 对于 AI（自动加载）

**智能加载机制**：

AI 会根据以下情境自动加载相应记忆：

| 触发情境 | 加载文件 | 加载指令 |
|---------|---------|---------|
| 用户询问框架选择 | `frameworks/CLAUDE.md` | 读取该文件 |
| 用户询问方法论 | `methodology/CLAUDE.md` | 读取该文件 |
| 用户需要案例参考 | `cases/CLAUDE.md` | 读取该文件 |
| 进入特定阶段 | `stage-guides/CLAUDE.md` | 读取该文件 |
| 阶段2开始 | `frameworks + methodology` | 同时读取两个文件 |

**自然语言触发词**：

```
框架相关：
- "推荐框架" / "选择框架" / "用什么框架"
- "不知道用哪个框架" / "框架选择"

方法论相关：
- "怎么用MECE" / "如何结构化分析"
- "解释金字塔原则" / "方法论指导"

案例相关：
- "有类似案例吗" / "参考案例"
- "看看别人怎么做的" / "案例"

阶段相关：
- "进入阶段2" / "阶段2怎么做"
- "当前阶段应该怎么做"
```

---

### 对于用户（主动请求）

**方式1：自然语言请求**

直接说出您的需求，AI 会自动识别并加载相应记忆：

```
示例1："我需要选择合适的分析框架"
→ AI 加载 frameworks/CLAUDE.md

示例2："怎么用MECE原则拆解问题？"
→ AI 加载 methodology/CLAUDE.md

示例3："有没有类似的市场进入案例？"
→ AI 加载 cases/CLAUDE.md
```

**方式2：明确引用（跨平台通用）**

在 Cursor、Copilot、Claude 等平台，可以明确提到文件：

```
"请读取 memory/frameworks/CLAUDE.md 并推荐框架"
"参考 memory/cases/CLAUDE.md 中的案例"
```

**方式3：使用 @ 语法（部分平台支持）**

在支持文件引用的平台（如 Claude Code CLI）：

```
"@memory/frameworks/CLAUDE.md 推荐框架"
```

---

## 🔧 跨平台兼容性

### 所有平台通用实现

模块化记忆系统通过 **显式文件读取指令** 实现跨平台兼容：

| 平台 | 实现方式 | 兼容性 |
|------|---------|-------|
| **Claude Desktop** | `read_file` 工具 | ✅ 完全支持 |
| **Claude Code CLI** | `@memory/` 语法 + read_file | ✅ 完全支持（增强） |
| **Cursor** | Workspace 文件上下文 | ✅ 完全支持 |
| **GitHub Copilot** | Workspace 文件读取 | ✅ 完全支持 |
| **ChatGPT** | Code Interpreter 文件读取 | ✅ 完全支持 |

**核心原理**：
- 不依赖特殊语法（如 `@memory/`）
- 通过自然语言触发
- AI 使用标准的 `read_file` 工具加载
- 所有平台都支持文件读取能力

---

## 📊 效果对比

### 传统单一文件 vs 模块化记忆

| 维度 | 传统方式 | 模块化记忆 |
|------|---------|-----------|
| **文件大小** | 1409行 | 核心465行 + 4个模块 |
| **上下文负担** | 全部加载 | 按需加载 |
| **维护难度** | 高（修改影响全局） | 低（独立模块） |
| **加载速度** | 慢（全量） | 快（按需） |
| **跨平台兼容** | 有限 | 优秀 |
| **可扩展性** | 差 | 强 |

### 实际使用场景对比

**场景1：用户只需要框架推荐**

```
传统方式：
- 加载 1409 行全部内容
- AI 需要从中筛选框架信息
- 耗时长，可能遗漏

模块化方式：
- 只加载 frameworks/CLAUDE.md (220行)
- AI 直接获取框架速查表
- 快速、精准
```

**场景2：用户需要完整的阶段5指导**

```
传统方式：
- 加载全部内容
- 阶段5内容分散在多处
- 需要 AI 综合整理

模块化方式：
- 加载 stage-guides/CLAUDE.md
- 阶段5指导集中、完整
- 直接可用
```

---

## 🛠️ 维护指南

### 更新记忆模块

**何时更新**：
- 新增战略分析框架 → 更新 `frameworks/CLAUDE.md`
- 新增案例 → 更新 `cases/CLAUDE.md`
- 方法论优化 → 更新 `methodology/CLAUDE.md`
- 阶段流程调整 → 更新 `stage-guides/CLAUDE.md`

**更新原则**：
1. **保持模块独立性**：每个模块可以独立更新
2. **同步核心文件**：如果核心逻辑变化，同步更新 CLAUDE.md/AGENTS.md/GEMINI.md
3. **版本记录**：在文件末尾记录更新日期和版本
4. **测试加载**：更新后测试 AI 能否正确加载

### 添加新记忆模块

**步骤**：
1. 在 `memory/` 下创建新目录（如 `memory/industry-insights/`）
2. 创建 `CLAUDE.md` 文件
3. 在主 `CLAUDE.md` 中添加加载触发规则
4. 更新本 README

**文件格式规范**：
```markdown
# [模块名称]

> **使用说明**：本文件是模块化记忆的一部分，由 AI 在[情境]时自动加载。

---

## [内容章节]
...

---

## 🎯 触发 AI 加载本文件的方式

当用户说以下内容时，AI 应主动读取本文件：
- "触发词1"
- "触发词2"

---

**最后更新**：YYYY年MM月  
**版本**：vX.X  
**用途**：AI 按需加载的[用途]模块
```

---

## ❓ 常见问题

### Q1：AI 没有自动加载记忆，怎么办？

**A**：可以主动请求：
```
"请读取 memory/frameworks/CLAUDE.md 帮我选择框架"
```

### Q2：可以同时加载多个记忆模块吗？

**A**：可以！例如：
```
"读取 frameworks 和 methodology 记忆，帮我进行结构化分析"
```

### Q3：记忆模块会占用我的 token 吗？

**A**：会，但：
- 只加载需要的模块（按需加载）
- 相比加载1409行的完整文件，token 消耗更少
- 加载更精准，减少无效 token

### Q4：在 ChatGPT 中如何使用？

**A**：
1. 复制 `roles/strategic_analyst.md` 到对话
2. 当需要框架时，说"推荐框架"
3. AI 会请求读取 `memory/frameworks/CLAUDE.md`
4. 如果 ChatGPT 不支持文件读取，AI 会根据核心文件中的简要信息回答

### Q5：记忆模块可以自定义吗？

**A**：可以！
- 您可以修改现有模块
- 可以添加新的行业专属记忆（如 `memory/industry-tech/CLAUDE.md`）
- 可以添加公司内部的最佳实践记忆

---

## 📚 相关文档

- **核心角色文件**：`../CLAUDE.md` / `../AGENTS.md` / `../GEMINI.md`
- **完整框架库**：`../docs/frameworks/`
- **完整方法论**：`../docs/methodology/`
- **完整案例库**：`../examples/mini-cases/`
- **快速开始指南**：`../QUICKSTART.md`

---

## 🎯 最佳实践建议

### 对于 AI 开发者

1. **遵循加载时机规则**：不要过早或过度加载记忆
2. **精准识别用户意图**：根据触发词准确加载
3. **告知用户**：加载记忆时简要告知"正在查阅[模块]..."
4. **整合信息**：加载后整合到回答中，不要直接复制粘贴

### 对于用户

1. **明确表达需求**：说清楚需要什么帮助（框架/案例/方法论）
2. **主动请求**：如果 AI 没有加载，可以明确要求
3. **逐步深入**：先用核心文件快速分析，需要深入时再加载记忆
4. **反馈问题**：如果加载不正确，告诉 AI 调整

---

**🚀 享受模块化记忆系统带来的高效体验！**

---

**最后更新**：2025年11月  
**版本**：v2.1  
**维护者**：Strategic Analyst Team

