# 📋 Claude Code 自定义命令指南

> **注意**：这些命令仅在 **Claude Code CLI** 中可用。其他平台（Copilot/Cursor/ChatGPT）请使用自然语言替代方案。

---

## 🎯 什么是自定义命令？

自定义命令是 Claude Code CLI 提供的快捷方式，让您可以通过简短的命令（如 `/stage 2`）快速触发特定功能，而不需要输入完整的自然语言描述。

**核心优势**：
- ⚡ 快速触发常用操作
- 🎯 更精准的意图识别
- 🔧 预定义的工作流程
- 📝 标准化的输出格式

**跨平台兼容性**：
- ✅ 所有命令都有自然语言替代方案
- ✅ 功能在所有平台上都可实现
- ✅ Claude Code CLI 用户获得增强体验

---

## 📚 可用命令列表

### 命令1：`/stage` - 快速阶段跳转

**用途**：直接跳转到五阶段中的特定阶段

**语法**：
```
/stage [阶段编号]
/stage [阶段编号] [可选说明]
```

**示例**：
```
/stage 2
/stage 3 市场进入策略
/stage 5
```

**阶段编号**：
- `0` - 任务接收
- `1` - 问题诊断
- `2` - 结构化拆解
- `3` - 假设形成
- `4` - 验证迭代
- `5` - 方案交付

**工作流程**：
1. 验证阶段编号
2. 警告跳过的内容
3. 读取阶段指南
4. 启动阶段工作

**自然语言替代（所有平台）**：
```
"进入阶段2"
"跳转到阶段3"
"直接进入结构化拆解阶段"
```

---

### 命令2：`/framework` - 智能框架推荐

**用途**：根据问题类型推荐合适的战略分析框架

**语法**：
```
/framework [问题描述]
/framework
```

**示例**：
```
/framework 市场进入决策
/framework 竞争策略制定
/framework
```

**工作流程**：
1. 分析问题类型
2. 读取框架速查表
3. 推荐2-3个框架
4. 提供使用指导
5. 支持深入说明

**输出示例**：
```markdown
【框架推荐】

🎯 您的问题类型：市场进入决策

📊 推荐框架组合：

1️⃣ 首选：波特五力
   用途：评估行业竞争强度和盈利潜力
   
2️⃣ 补充：SWOT分析
   用途：自身能力评估
   
3️⃣ 可选：安索夫矩阵
   用途：选择进入策略

🔗 推荐组合：PEST → 波特五力 → SWOT → 安索夫
```

**自然语言替代（所有平台）**：
```
"推荐框架"
"选择框架"
"不知道用什么框架"
"市场进入用什么框架"
```

---

### 命令3：`/quick-analyze` - 30分钟快速咨询

**用途**：在时间紧迫时提供"第一天的答案"

**语法**：
```
/quick-analyze [问题描述]
```

**示例**：
```
/quick-analyze 是否应该进入AI芯片市场
/quick-analyze SaaS产品如何定价
```

**工作流程**：
1. 警告声明（基于有限信息）
2. 快速问题诊断（5分钟）
3. 快速框架选择（2分钟）
4. 形成初步假设（5分钟）
5. 快速行动计划（3分钟）

**输出示例**：
```markdown
【快速分析结果】

🎯 核心问题：{一句话问题}

📊 快速分析：
使用框架：波特五力

关键发现：
1. 行业吸引力：中等
2. 进入壁垒：较高
3. 竞争强度：激烈

💡 初步建议：
建议A：谨慎进入，先试点验证
• 预期效果：降低风险
• 主要风险：错失窗口期
• 实施难度：中

⚠️  关键假设（需验证）：
• 技术可行性
• 客户需求强度
```

**自然语言替代（所有平台）**：
```
"快速咨询"
"30分钟快速分析"
"时间紧迫，给个快速建议"
"不用太详细，给个方向"
```

---

### 命令4：`/review` - 质量审查

**用途**：审查战略分析报告的质量

**语法**：
```
/review [文件路径]
/review
```

**示例**：
```
/review projects/my-project/stage5-final-report.md
/review
```

**工作流程**：
1. 读取文件
2. 识别文件类型
3. 加载检查清单
4. 逐项检查
5. 提供改进建议

**审查维度**：
- 结构完整性（20分）
- MECE原则（20分）
- 数据支撑（20分）
- 洞见质量（20分）
- 可执行性（20分）

**输出示例**：
```markdown
【质量审查报告】

## 📊 质量评分
总体评分：85/100

| 维度 | 得分 | 状态 |
|------|------|------|
| 结构完整性 | 18/20 | ✅ |
| MECE原则 | 16/20 | ⚠️ |
| 数据支撑 | 17/20 | ✅ |
| 洞见质量 | 18/20 | ✅ |
| 可执行性 | 16/20 | ⚠️ |

## ⚠️ 问题与改进建议

### 问题1：维度分类不符合MECE
位置：第2章市场分析
问题：客户分类存在重叠
建议：采用单一分类标准...
```

**自然语言替代（所有平台）**：
```
"审查质量"
"检查这个报告"
"review 项目文档"
"帮我审查一下分析质量"
```

---

## 🚀 使用示例

### 场景1：快速开始新项目

**Claude Code CLI**：
```
/stage 1
→ AI 进入阶段1，开始6要素问诊
```

**其他平台**：
```
"进入阶段1，帮我分析问题"
→ AI 识别意图，进入阶段1
```

---

### 场景2：不确定用什么框架

**Claude Code CLI**：
```
/framework 我需要分析竞争对手
→ AI 推荐：波特五力 + 战略群组 + 战略钟
```

**其他平台**：
```
"推荐框架，我需要分析竞争对手"
→ AI 读取框架记忆，推荐框架
```

---

### 场景3：时间紧迫，需要快速建议

**Claude Code CLI**：
```
/quick-analyze 是否应该降价10%应对竞争
→ AI 警告 → 快速分析 → 给出建议
```

**其他平台**：
```
"时间紧迫，快速分析：是否应该降价10%应对竞争"
→ AI 识别快速咨询意图，执行相同流程
```

---

### 场景4：检查报告质量

**Claude Code CLI**：
```
/review projects/my-project/stage5-final-report.md
→ AI 读取文件 → 逐项审查 → 给出评分和建议
```

**其他平台**：
```
"审查质量：projects/my-project/stage5-final-report.md"
→ AI 执行相同的审查流程
```

---

## 🔧 命令开发指南

### 创建新命令

**步骤1：创建命令文件**

在 `.claude/commands/` 目录下创建 Markdown 文件：

```markdown
---
name: my-command
description: 命令描述
allowed-tools:
  - read_file
  - grep
---

# 系统提示

命令的详细说明...

## 接收参数
...

## 工作流程
...

## 跨平台兼容
...
```

**步骤2：定义跨平台替代方案**

确保命令功能可以通过自然语言实现：
- 定义触发词
- 说明自然语言使用方式
- 确保所有平台都能执行相同流程

**步骤3：测试命令**

- 在 Claude Code CLI 中测试命令
- 在 Cursor/Copilot 中测试自然语言替代
- 验证输出一致性

### 命令设计原则

1. **跨平台优先**：
   - 功能必须在所有平台上可用
   - Claude Code CLI 命令是增强，非必需

2. **清晰的替代方案**：
   - 明确说明自然语言触发方式
   - 提供多个触发词示例

3. **一致的输出**：
   - 命令和自然语言应产生相同输出
   - 使用标准化的输出格式

4. **最小权限**：
   - 只授予必要的工具权限
   - 使用 `allowed-tools` 限制

---

## 📊 命令对比表

| 命令 | Claude Code CLI | 自然语言替代 | 功能一致性 |
|------|----------------|-------------|-----------|
| `/stage` | ⚡ 快捷 | "进入阶段X" | ✅ 完全一致 |
| `/framework` | ⚡ 快捷 | "推荐框架" | ✅ 完全一致 |
| `/quick-analyze` | ⚡ 快捷 | "快速咨询" | ✅ 完全一致 |
| `/review` | ⚡ 快捷 | "审查质量" | ✅ 完全一致 |

---

## ❓ 常见问题

### Q1：为什么我的平台没有这些命令？

**A**：这些是 Claude Code CLI 的特性。其他平台请使用自然语言：
- Copilot：直接说"进入阶段2"
- Cursor：直接说"推荐框架"
- ChatGPT：直接说"快速咨询"

### Q2：自然语言和命令的效果一样吗？

**A**：完全一样！命令只是快捷方式，底层执行相同的工作流程。

### Q3：可以自定义命令吗？

**A**：可以！参考"命令开发指南"创建自己的命令。

### Q4：命令不工作怎么办？

**A**：
1. 确认使用的是 Claude Code CLI
2. 检查命令文件是否在 `.claude/commands/` 目录
3. 尝试重启 Claude Code CLI
4. 或直接使用自然语言替代

---

## 📚 相关文档

- **模块化记忆系统**：`../memory/README.md`
- **核心角色文件**：`../../CLAUDE.md`
- **快速开始指南**：`../../QUICKSTART.md`

---

**最后更新**：2025年11月  
**版本**：v1.0  
**命令数量**：4个（可扩展）

